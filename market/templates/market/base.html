<!doctype html>
{% load static %}
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>{% block title %}BBDOLX{% endblock %}</title>

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="icon" href="{% static 'logo.png' %}">
  <style>
  .card-animate {
    animation: cardIn .35s ease-out;
  }
  @keyframes cardIn {
    from { opacity: 0; transform: translateY(10px) scale(0.97); }
    to   { opacity: 1; transform: translateY(0) scale(1); }
  }

  .toast-enter {
    animation: toastIn .3s ease-out;
  }
  @keyframes toastIn {
    from { opacity: 0; transform: translateY(8px); }
    to   { opacity: 1; transform: translateY(0); }
  }
</style>

  
</head>
{% if messages %}
  <div id="toast-container" class="fixed bottom-4 right-4 z-50 space-y-2">
    {% for message in messages %}
      <div class="toast-enter max-w-xs bg-white shadow-lg rounded-xl border-l-4 px-4 py-3 text-sm flex items-start gap-2
                  {% if 'success' in message.tags %} border-emerald-500 {% elif 'error' in message.tags %} border-red-500 {% else %} border-slate-400 {% endif %}">
        <div class="mt-0.5">
          {% if 'success' in message.tags %}
            ‚úÖ
          {% elif 'error' in message.tags %}
            ‚ö†Ô∏è
          {% else %}
            ‚ÑπÔ∏è
          {% endif %}
        </div>
        <div class="text-slate-800">
          {{ message }}
        </div>
      </div>
    {% endfor %}
  </div>

  <script>
    // auto-hide toasts after 3.5s
    setTimeout(function () {
      const container = document.getElementById('toast-container');
      if (!container) return;
      container.querySelectorAll('div.toast-enter').forEach(el => {
        el.style.transition = "opacity .4s ease, transform .4s ease";
        el.style.opacity = "0";
        el.style.transform = "translateY(8px)";
      });
      setTimeout(() => container.remove(), 500);
    }, 3500);
  </script>
{% endif %}

<body class="bg-slate-100">
  <!-- NAVBAR -->
  <header class="bg-white shadow sticky top-0 z-50">
    <div class="max-w-6xl mx-auto flex items-center justify-between py-3 px-4">
      <a href="{% url 'home' %}" class="flex items-center gap-2">
        <span class="bg-teal-500 text-white font-extrabold px-2 py-1 rounded">
          BBD
        </span>
        <span class="font-bold text-xl tracking-tight">OLX</span>
      </a>

      <form method="get" action="{% url 'home' %}" class="hidden md:flex flex-1 mx-6">
        <input
          type="text"
          name="q"
          value="{{ query }}"
          placeholder="Search in BBD campus (mobiles, bikes, hostel stuff...)"
          class="w-full border border-slate-300 rounded-l-full px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-teal-500"
        />
        <button
          class="bg-teal-500 text-white px-5 rounded-r-full text-sm font-semibold hover:bg-teal-600 transition">
          Search
        </button>
      </form>

      <div class="flex items-center gap-3">
        {% if user.is_authenticated %}
          <a href="{% url 'my_listings' %}" class="text-sm font-medium hover:text-teal-600">
            My Ads
          </a>
          <form method="post" action="{% url 'logout' %}">
            {% csrf_token %}
            <button class="text-sm font-medium hover:text-teal-600">
              Logout
            </button>
          </form>
          <a href="{% url 'product_add' %}"
             class="hidden sm:inline-flex items-center gap-1 border border-teal-500 text-teal-600 px-4 py-1.5 rounded-full text-sm font-semibold hover:bg-teal-500 hover:text-white transition">
            + Sell
          </a>
        {% else %}
          <a href="{% url 'login' %}" class="text-sm font-medium hover:text-teal-600">
            Login
          </a>
          <a href="{% url 'register' %}"
             class="border border-teal-500 text-teal-600 px-4 py-1.5 rounded-full text-sm font-semibold hover:bg-teal-500 hover:text-white transition">
            Sign up
          </a>
        {% endif %}
      </div>
    </div>
  </header>

  <main class="max-w-6xl mx-auto px-4 py-6">
    {% block content %}{% endblock %}
  </main>

   <!-- FOOTER -->
  <footer class="bg-white border-t border-slate-200 mt-10 pt-8">
    <div class="max-w-6xl mx-auto px-4 grid grid-cols-2 md:grid-cols-4 gap-6 pb-8 text-sm">

      <!-- Column 1 -->
      <div>
        <h3 class="font-semibold text-slate-700 mb-3">BBDOLX</h3>
        <ul class="space-y-2 text-slate-500">
          <li><a href="#" class="hover:text-teal-600">About us</a></li>
          <li><a href="#" class="hover:text-teal-600">How it works</a></li>
          <li><a href="#" class="hover:text-teal-600">Campus safety tips</a></li>
          <li><a href="#" class="hover:text-teal-600">Contact</a></li>
        </ul>
      </div>

      <!-- Column 2 -->
      <div>
        <h3 class="font-semibold text-slate-700 mb-3">Categories</h3>
        <ul class="space-y-2 text-slate-500">
          <li><a href="?category=mobiles" class="hover:text-teal-600">Mobiles</a></li>
          <li><a href="?category=laptops" class="hover:text-teal-600">Laptops</a></li>
          <li><a href="?category=bikes" class="hover:text-teal-600">Bikes</a></li>
          <li><a href="?category=electronics" class="hover:text-teal-600">Electronics</a></li>
          <li><a href="?category=books" class="hover:text-teal-600">Books</a></li>
        </ul>
      </div>

      <!-- Column 3 -->
      <div>
        <h3 class="font-semibold text-slate-700 mb-3">Support</h3>
        <ul class="space-y-2 text-slate-500">
          <li><a href="#" class="hover:text-teal-600">Report an issue</a></li>
          <li><a href="#" class="hover:text-teal-600">FAQs</a></li>
          <li><a href="#" class="hover:text-teal-600">Help center</a></li>
          <li><a href="#" class="hover:text-teal-600">Privacy policy</a></li>
          <li><a href="#" class="hover:text-teal-600">Terms & conditions</a></li>
        </ul>
      </div>

      <!-- Column 4 -->
      <div>
        <h3 class="font-semibold text-slate-700 mb-3">Connect</h3>
        <p class="text-slate-500 mb-3">Follow BBDOLX on social media</p>

        <div class="flex gap-3">
          <a href="#" class="h-9 w-9 rounded-full bg-slate-100 flex items-center justify-center hover:bg-teal-500 hover:text-white transition">
            <span class="text-lg">üìò</span>
          </a>
          <a href="#" class="h-9 w-9 rounded-full bg-slate-100 flex items-center justify-center hover:bg-teal-500 hover:text-white transition">
            <span class="text-lg">üì∏</span>
          </a>
          <a href="#" class="h-9 w-9 rounded-full bg-slate-100 flex items-center justify-center hover:bg-teal-500 hover:text-white transition">
            <span class="text-lg">üê¶</span>
          </a>
        </div>
      </div>

    </div>

    <div class="border-t border-slate-200">
      <div class="max-w-6xl mx-auto px-4 py-4 text-[13px] text-slate-500 flex flex-col md:flex-row justify-between items-center">
        <p>¬© {{ now|date:'Y' }} BBDOLX ‚Äî A marketplace for BBD students.</p>
        <p class="mt-2 md:mt-0">Built with ‚ù§Ô∏è By Manash</p>
      </div>
    </div>
  </footer>

</body>
</html>
